<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>lorawan协议（中文版） | wumu&#39;s blog | wumu的博客</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="lorawan">
    <meta name="description" content="介绍网关和服务器之间的协议是有目的的非常基本的，仅用于演示目的，或用于私有和可靠的网络。 这里没有网关或服务器的认证，并且确认仅用于网络质量评估，而不是 纠正UDP数据报丢失（无重试）。 系统原理和相关定义1234567891011121314151617 ((( Y )))     |     |+ - -|- - - - - - - - - - - - - +        xxxxxxxxx">
<meta name="keywords" content="lorawan">
<meta property="og:type" content="article">
<meta property="og:title" content="lorawan协议（中文版）">
<meta property="og:url" content="http://wumuwumu.github.io/2018/12/05/lorawan协议（中文版）/index.html">
<meta property="og:site_name" content="wumu&#39;s blog">
<meta property="og:description" content="介绍网关和服务器之间的协议是有目的的非常基本的，仅用于演示目的，或用于私有和可靠的网络。 这里没有网关或服务器的认证，并且确认仅用于网络质量评估，而不是 纠正UDP数据报丢失（无重试）。 系统原理和相关定义1234567891011121314151617 ((( Y )))     |     |+ - -|- - - - - - - - - - - - - +        xxxxxxxxx">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2018-12-05T13:35:39.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="lorawan协议（中文版）">
<meta name="twitter:description" content="介绍网关和服务器之间的协议是有目的的非常基本的，仅用于演示目的，或用于私有和可靠的网络。 这里没有网关或服务器的认证，并且确认仅用于网络质量评估，而不是 纠正UDP数据报丢失（无重试）。 系统原理和相关定义1234567891011121314151617 ((( Y )))     |     |+ - -|- - - - - - - - - - - - - +        xxxxxxxxx">
    
        <link rel="alternate" type="application/atom+xml" title="wumu&#39;s blog" href="/atom.xml">
    
    <link rel="shortcut icon" href="/img/avatar.png">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide">
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.png">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">wumu</h5>
          <a href="mailto:2232728687@qq.com" title="2232728687@qq.com" class="mail">2232728687@qq.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/">
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags">
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories">
                <i class="icon icon-lg icon-th-list"></i>
                分类
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/wumuwumu" target="_blank">
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">lorawan协议（中文版）</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">lorawan协议（中文版）</h1>
        <h5 class="subtitle">
            
                <time datetime="2018-12-05T13:34:09.000Z" itemprop="datePublished" class="page-time">
  2018-12-05
</time>


            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#介绍"><span class="post-toc-number">1.</span> <span class="post-toc-text">介绍</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#系统原理和相关定义"><span class="post-toc-number">2.</span> <span class="post-toc-text">系统原理和相关定义</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#上行协议"><span class="post-toc-number">3.</span> <span class="post-toc-text">上行协议</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#PUSH-DATA-包"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">PUSH_DATA 包</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#PUSH-ACK包"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">PUSH_ACK包</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#上行JSON数据结构"><span class="post-toc-number">4.</span> <span class="post-toc-text">上行JSON数据结构</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#下行协议"><span class="post-toc-number">5.</span> <span class="post-toc-text">下行协议</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#时序图"><span class="post-toc-number">5.1.</span> <span class="post-toc-text">时序图</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#PULL-DATA包"><span class="post-toc-number">5.2.</span> <span class="post-toc-text">PULL_DATA包</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#PULL-ACK-包"><span class="post-toc-number">5.2.1.</span> <span class="post-toc-text">PULL_ACK 包</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#PULL-RESP-包"><span class="post-toc-number">5.2.2.</span> <span class="post-toc-text">PULL_RESP 包</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#TX-ACK-包"><span class="post-toc-number">5.2.3.</span> <span class="post-toc-text">TX_ACK 包</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#下行JSON数据结构"><span class="post-toc-number">5.3.</span> <span class="post-toc-text">下行JSON数据结构</span></a></li></ol></li></ol>
        </nav>
    </aside>


<article id="post-lorawan协议（中文版）" class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">lorawan协议（中文版）</h1>
        <div class="post-meta">
            <time class="post-time" title="2018-12-05 21:34:09" datetime="2018-12-05T13:34:09.000Z" itemprop="datePublished">2018-12-05</time>

            


            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style="display:none">
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><p>网关和服务器之间的协议是有目的的非常基本的，仅用于演示目的，或用于私有和可靠的网络。</p>
<p>这里没有网关或服务器的认证，并且确认仅用于网络质量评估，而不是 纠正UDP数据报丢失（无重试）。</p>
<h1 id="系统原理和相关定义"><a href="#系统原理和相关定义" class="headerlink" title="系统原理和相关定义"></a>系统原理和相关定义</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> ((( Y )))</span><br><span class="line">     |</span><br><span class="line">     |</span><br><span class="line">+ - -|- - - - - - - - - - - - - +        xxxxxxxxxxxx          +--------+</span><br><span class="line">| +--+-----------+     +------+ |       xx x  x     xxx        |        |</span><br><span class="line">| |              |     |      | |      xx  Internet  xx        |        |</span><br><span class="line">| | Concentrator |&lt;---&gt;| Host |&lt;-------xx     or    xx--------&gt;|        |</span><br><span class="line">| |              | SPI |      | |      xx  Intranet  xx        | Server |</span><br><span class="line">| +--------------+     +------+ |       xxxx   x   xxxx        |        |</span><br><span class="line">|    ^                     ^    |           xxxxxxxx           |        |</span><br><span class="line">|    | PPS +-------+ NMEA  |    |                              |        |</span><br><span class="line">|    +-----|  GPS  |-------+    |                              +--------+</span><br><span class="line">|          | (opt) |            |</span><br><span class="line">|          +-------+            |</span><br><span class="line">|                               |</span><br><span class="line">|             Gateway           |</span><br><span class="line">+- - - - - - - - - - - - - - - -+</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>网关</strong>：无线电RX / TX板，基于Semtech多通道调制解调器（SX130x），收发器（SX135x）和/或低功耗独立调制解调器（SX127x）。</li>
<li><strong>主机</strong>：运行包转发器的嵌入式计算机。通过SPI链路驱动集中器。 GPS：具有“每秒1脉冲”的GNSS（GPS，伽利略，GLONASS等）接收器 输出和到主机的串行链接，以发送包含时间和地理坐标数据的NMEA帧。可选的。</li>
<li><strong>网关</strong>：由至少一个无线电集中器，主机，一些组成的设备网络连接到互联网或专用网络（以太网，3G，Wifi，微波链路），以及可选的GPS接收器进行同步。</li>
<li><strong>服务器</strong>：一种抽象计算机，它将处理由网关接收和转发的RF数据包，并发出RF数据包以响应网关必须发出的数据包。</li>
</ul>
<p>假设网关可以在NAT后面或防火墙停止任何传入连接。 假设服务器具有静态IP地址（或通过DNS服务可解决的地址），并且能够接收特定端口上的传入连接。</p>
<h1 id="上行协议"><a href="#上行协议" class="headerlink" title="上行协议"></a>上行协议</h1><p>3.1 时序图</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">+---------+                                                    +---------+</span><br><span class="line">| Gateway |                                                    | Server  |</span><br><span class="line">+---------+                                                    +---------+</span><br><span class="line">     | -----------------------------------\                         |</span><br><span class="line">     |-| When 1-N RF packets are received |                         |</span><br><span class="line">     | ------------------------------------                         |</span><br><span class="line">     |                                                              |</span><br><span class="line">     | PUSH_DATA (token X, GW MAC, JSON payload)                    |</span><br><span class="line">     |-------------------------------------------------------------&gt;|</span><br><span class="line">     |                                                              |</span><br><span class="line">     |                                           PUSH_ACK (token X) |</span><br><span class="line">     |&lt;-------------------------------------------------------------|</span><br><span class="line">     |                              ------------------------------\ |</span><br><span class="line">     |                              | process packets *after* ack |-|</span><br><span class="line">     |                              ------------------------------- |</span><br><span class="line">     |                                                              |</span><br></pre></td></tr></table></figure>
<h2 id="PUSH-DATA-包"><a href="#PUSH-DATA-包" class="headerlink" title="PUSH_DATA 包"></a><code>PUSH_DATA</code> 包</h2><p>网关使用该数据包类型主要是将所接收的RF分组和相关联的元数据转发到服务器。</p>
<table>
<thead>
<tr>
<th>字节</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>协议版本2</td>
</tr>
<tr>
<td>1-2</td>
<td>随机凭证</td>
</tr>
<tr>
<td>3</td>
<td>PUSH_DATA标识<code>0x00</code></td>
</tr>
<tr>
<td>4-11</td>
<td>网关唯一标识（MAC地址）</td>
</tr>
<tr>
<td>12-结束</td>
<td><code>JSON</code>对象，看第4章</td>
</tr>
</tbody>
</table>
<h2 id="PUSH-ACK包"><a href="#PUSH-ACK包" class="headerlink" title="PUSH_ACK包"></a><code>PUSH_ACK</code>包</h2><p>服务器使用该数据包类型立即确认收到的所有PUSH_DATA数据包。</p>
<table>
<thead>
<tr>
<th>字节</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>协议版本2</td>
</tr>
<tr>
<td>1-2</td>
<td>与<code>PUSH_DATA</code>包中相同的凭证，用于确认</td>
</tr>
<tr>
<td>3</td>
<td><code>PUSH_ACK</code>标识<code>0x01</code></td>
</tr>
</tbody>
</table>
<h1 id="上行JSON数据结构"><a href="#上行JSON数据结构" class="headerlink" title="上行JSON数据结构"></a>上行<code>JSON</code>数据结构</h1><p>根对象包含名为<code>&quot;rxpk&quot;</code>的数组：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	&quot;rxpk&quot;:[ &#123;...&#125;, ...]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>该数组包含至少一个<code>JSON</code>对象，每个对象包含一个RF数据包以及包含以下字段的关联元数据：</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类别</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>time</td>
<td>string</td>
<td>UTC time of pkt RX, us precision, ISO 8601 ‘compact’ format</td>
</tr>
<tr>
<td>tmst</td>
<td>number</td>
<td>Internal timestamp of “RX finished” event (32b unsigned)</td>
</tr>
<tr>
<td>freq</td>
<td>number</td>
<td>RX central frequency in MHz (unsigned float, Hz precision)</td>
</tr>
<tr>
<td>chan</td>
<td>number</td>
<td>Concentrator “IF” channel used for RX (unsigned integer)</td>
</tr>
<tr>
<td>rfch</td>
<td>number</td>
<td>Concentrator “RF chain” used for RX (unsigned integer)</td>
</tr>
<tr>
<td>stat</td>
<td>number</td>
<td>CRC status: 1 = OK, -1 = fail, 0 = no CRC</td>
</tr>
<tr>
<td>modu</td>
<td>string</td>
<td>Modulation identifier “LORA” or “FSK”</td>
</tr>
<tr>
<td>datr</td>
<td>string</td>
<td>LoRa datarate identifier (eg. SF12BW500)</td>
</tr>
<tr>
<td>datr</td>
<td>number</td>
<td>FSK datarate (unsigned, in bits per second)</td>
</tr>
<tr>
<td>codr</td>
<td>string</td>
<td>LoRa ECC coding rate identifier</td>
</tr>
<tr>
<td>rssi</td>
<td>number</td>
<td>RSSI in dBm (signed integer, 1 dB precision)</td>
</tr>
<tr>
<td>lsnr</td>
<td>number</td>
<td>Lora SNR ratio in dB (signed float, 0.1 dB precision)</td>
</tr>
<tr>
<td>size</td>
<td>number</td>
<td>RF packet payload size in bytes (unsigned integer)</td>
</tr>
<tr>
<td>data</td>
<td>string</td>
<td>Base64 encoded RF packet payload, padded</td>
</tr>
</tbody>
</table>
<p>示例（为了便于阅读而添加了空格，缩进和换行符）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;rxpk&quot;:[</span><br><span class="line">	&#123;</span><br><span class="line">		&quot;time&quot;:&quot;2013-03-31T16:21:17.528002Z&quot;,</span><br><span class="line">		&quot;tmst&quot;:3512348611,</span><br><span class="line">		&quot;chan&quot;:2,</span><br><span class="line">		&quot;rfch&quot;:0,</span><br><span class="line">		&quot;freq&quot;:866.349812,</span><br><span class="line">		&quot;stat&quot;:1,</span><br><span class="line">		&quot;modu&quot;:&quot;LORA&quot;,</span><br><span class="line">		&quot;datr&quot;:&quot;SF7BW125&quot;,</span><br><span class="line">		&quot;codr&quot;:&quot;4/6&quot;,</span><br><span class="line">		&quot;rssi&quot;:-35,</span><br><span class="line">		&quot;lsnr&quot;:5.1,</span><br><span class="line">		&quot;size&quot;:32,</span><br><span class="line">		&quot;data&quot;:&quot;-DS4CGaDCdG+48eJNM3Vai-zDpsR71Pn9CPA9uCON84&quot;</span><br><span class="line">	&#125;,&#123;</span><br><span class="line">		&quot;time&quot;:&quot;2013-03-31T16:21:17.530974Z&quot;,</span><br><span class="line">		&quot;tmst&quot;:3512348514,</span><br><span class="line">		&quot;chan&quot;:9,</span><br><span class="line">		&quot;rfch&quot;:1,</span><br><span class="line">		&quot;freq&quot;:869.1,</span><br><span class="line">		&quot;stat&quot;:1,</span><br><span class="line">		&quot;modu&quot;:&quot;FSK&quot;,</span><br><span class="line">		&quot;datr&quot;:50000,</span><br><span class="line">		&quot;rssi&quot;:-75,</span><br><span class="line">		&quot;size&quot;:16,</span><br><span class="line">		&quot;data&quot;:&quot;VEVTVF9QQUNLRVRfMTIzNA==&quot;</span><br><span class="line">	&#125;,&#123;</span><br><span class="line">		&quot;time&quot;:&quot;2013-03-31T16:21:17.532038Z&quot;,</span><br><span class="line">		&quot;tmst&quot;:3316387610,</span><br><span class="line">		&quot;chan&quot;:0,</span><br><span class="line">		&quot;rfch&quot;:0,</span><br><span class="line">		&quot;freq&quot;:863.00981,</span><br><span class="line">		&quot;stat&quot;:1,</span><br><span class="line">		&quot;modu&quot;:&quot;LORA&quot;,</span><br><span class="line">		&quot;datr&quot;:&quot;SF10BW125&quot;,</span><br><span class="line">		&quot;codr&quot;:&quot;4/7&quot;,</span><br><span class="line">		&quot;rssi&quot;:-38,</span><br><span class="line">		&quot;lsnr&quot;:5.5,</span><br><span class="line">		&quot;size&quot;:32,</span><br><span class="line">		&quot;data&quot;:&quot;ysgRl452xNLep9S1NTIg2lomKDxUgn3DJ7DE+b00Ass&quot;</span><br><span class="line">	&#125;</span><br><span class="line">]&#125;</span><br></pre></td></tr></table></figure>
<p>根对象还可以包含名为<code>&quot;stat&quot;</code>的对象：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	&quot;rxpk&quot;:[ &#123;...&#125;, ...],</span><br><span class="line">	&quot;stat&quot;:&#123;...&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>数据包可能不包含<code>&quot;rxpk&quot;</code>数组而是“stat”对象。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	&quot;stat&quot;:&#123;...&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>该对象包含网关的状态，包含以下字段：</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>time</td>
<td>string</td>
<td>UTC ‘system’ time of the gateway, ISO 8601 ‘expanded’ format</td>
</tr>
<tr>
<td>lati</td>
<td>number</td>
<td>GPS latitude of the gateway in degree (float, N is +)</td>
</tr>
<tr>
<td>long</td>
<td>number</td>
<td>GPS latitude of the gateway in degree (float, E is +)</td>
</tr>
<tr>
<td>alti</td>
<td>number</td>
<td>GPS altitude of the gateway in meter RX (integer)</td>
</tr>
<tr>
<td>rxnb</td>
<td>number</td>
<td>Number of radio packets received (unsigned integer)</td>
</tr>
<tr>
<td>rxok</td>
<td>number</td>
<td>Number of radio packets received with a valid PHY CRC</td>
</tr>
<tr>
<td>rxfw</td>
<td>number</td>
<td>Number of radio packets forwarded (unsigned integer)</td>
</tr>
<tr>
<td>ackr</td>
<td>number</td>
<td>Percentage of upstream datagrams that were acknowledged</td>
</tr>
<tr>
<td>dwnb</td>
<td>number</td>
<td>Number of downlink datagrams received (unsigned integer)</td>
</tr>
<tr>
<td>txnb</td>
<td>number</td>
<td>Number of packets emitted (unsigned integer)</td>
</tr>
</tbody>
</table>
<p>示例（为了便于阅读而添加了空格，缩进和换行符）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;stat&quot;:&#123;</span><br><span class="line">	&quot;time&quot;:&quot;2014-01-12 08:59:28 GMT&quot;,</span><br><span class="line">	&quot;lati&quot;:46.24000,</span><br><span class="line">	&quot;long&quot;:3.25230,</span><br><span class="line">	&quot;alti&quot;:145,</span><br><span class="line">	&quot;rxnb&quot;:2,</span><br><span class="line">	&quot;rxok&quot;:2,</span><br><span class="line">	&quot;rxfw&quot;:2,</span><br><span class="line">	&quot;ackr&quot;:100.0,</span><br><span class="line">	&quot;dwnb&quot;:2,</span><br><span class="line">	&quot;txnb&quot;:2</span><br><span class="line">&#125;&#125;</span><br></pre></td></tr></table></figure>
<h1 id="下行协议"><a href="#下行协议" class="headerlink" title="下行协议"></a>下行协议</h1><h2 id="时序图"><a href="#时序图" class="headerlink" title="时序图"></a>时序图</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">+---------+                                                    +---------+</span><br><span class="line">| Gateway |                                                    | Server  |</span><br><span class="line">+---------+                                                    +---------+</span><br><span class="line">     | -----------------------------------\                         |</span><br><span class="line">     |-| Every N seconds (keepalive time) |                         |</span><br><span class="line">     | ------------------------------------                         |</span><br><span class="line">     |                                                              |</span><br><span class="line">     | PULL_DATA (token Y, MAC@)                                    |</span><br><span class="line">     |-------------------------------------------------------------&gt;|</span><br><span class="line">     |                                                              |</span><br><span class="line">     |                                           PULL_ACK (token Y) |</span><br><span class="line">     |&lt;-------------------------------------------------------------|</span><br><span class="line">     |                                                              |</span><br><span class="line"></span><br><span class="line">+---------+                                                    +---------+</span><br><span class="line">| Gateway |                                                    | Server  |</span><br><span class="line">+---------+                                                    +---------+</span><br><span class="line">     |      ------------------------------------------------------\ |</span><br><span class="line">     |      | Anytime after first PULL_DATA for each packet to TX |-|</span><br><span class="line">     |      ------------------------------------------------------- |</span><br><span class="line">     |                                                              |</span><br><span class="line">     |                            PULL_RESP (token Z, JSON payload) |</span><br><span class="line">     |&lt;-------------------------------------------------------------|</span><br><span class="line">     |                                                              |</span><br><span class="line">     | TX_ACK (token Z, JSON payload)                               |</span><br><span class="line">     |-------------------------------------------------------------&gt;|</span><br></pre></td></tr></table></figure>
<h2 id="PULL-DATA包"><a href="#PULL-DATA包" class="headerlink" title="PULL_DATA包"></a>PULL_DATA包</h2><p>网关使用该数据包类型来轮询来自服务器的数据。</p>
<p>此数据交换由网关初始化，因为如果网关位于NAT后面，服务器可能无法将数据包发送到网关。 当网关初始化交换机时，将打开通向服务器的网络路由，并允许数据包在两个方向上流动。 网关必须定期发送PULL_DATA数据包，以确保网络路由保持打开状态，以便服务器随时使用。</p>
<table>
<thead>
<tr>
<th>Bytes</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>protocol version = 2</td>
</tr>
<tr>
<td>1-2</td>
<td>random token</td>
</tr>
<tr>
<td>3</td>
<td>PULL_DATA identifier 0x02</td>
</tr>
<tr>
<td>4-11</td>
<td>Gateway unique identifier (MAC address)</td>
</tr>
</tbody>
</table>
<h3 id="PULL-ACK-包"><a href="#PULL-ACK-包" class="headerlink" title="PULL_ACK 包"></a><code>PULL_ACK</code> 包</h3><p>服务器使用该数据包类型来确认网络路由是否已打开，以及服务器是否可以随时发送PULL_RESP数据包。</p>
<table>
<thead>
<tr>
<th>Bytes</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>protocol version = 2</td>
</tr>
<tr>
<td>1-2</td>
<td>same token as the PULL_DATA packet to acknowledge</td>
</tr>
<tr>
<td>3</td>
<td><code>PULL_ACK</code> identifier <code>0x04</code></td>
</tr>
</tbody>
</table>
<h3 id="PULL-RESP-包"><a href="#PULL-RESP-包" class="headerlink" title="PULL_RESP 包"></a>PULL_RESP 包</h3><p>服务器使用该数据包类型来发送必须由网关发出的RF数据包和相关元数据。</p>
<table>
<thead>
<tr>
<th>Bytes</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>protocol version = 2</td>
</tr>
<tr>
<td>1-2</td>
<td>random token</td>
</tr>
<tr>
<td>3</td>
<td>PULL_RESP identifier 0x03</td>
</tr>
<tr>
<td>4-end</td>
<td>JSON object, starting with {, ending with }, see section 6</td>
</tr>
</tbody>
</table>
<h3 id="TX-ACK-包"><a href="#TX-ACK-包" class="headerlink" title="TX_ACK 包"></a>TX_ACK 包</h3><p>网关使用该分组类型向服务器发送反馈，以通知网关是否已接受或拒绝下行链路请求。 数据报可以选项包含一个JSON字符串，以提供有关acknoledge的更多详细信息。 如果没有JSON（空字符串），这意味着没有发生错误。</p>
<table>
<thead>
<tr>
<th>Bytes</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>protocol version = 2</td>
</tr>
<tr>
<td>1-2</td>
<td>same token as the PULL_RESP packet to acknowledge</td>
</tr>
<tr>
<td>3</td>
<td>TX_ACK identifier 0x05</td>
</tr>
<tr>
<td>4-11</td>
<td>Gateway unique identifier (MAC address)</td>
</tr>
<tr>
<td>12-end</td>
<td>[optional] JSON object, starting with {, ending with }, see section 6</td>
</tr>
</tbody>
</table>
<h2 id="下行JSON数据结构"><a href="#下行JSON数据结构" class="headerlink" title="下行JSON数据结构"></a>下行<code>JSON</code>数据结构</h2><hr>
<p>PULL_RESP数据包的根对象必须包含名为“txpk”的对象：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	&quot;txpk&quot;: &#123;...&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>该对象包含要发出的RF数据包以及与以下字段相关联的元数据：</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr>
<td>imme</td>
<td>bool</td>
<td>Send packet immediately (will ignore tmst &amp; time)</td>
</tr>
<tr>
<td>tmst</td>
<td>number</td>
<td>Send packet on a certain timestamp value (will ignore time)</td>
</tr>
<tr>
<td>time</td>
<td>string</td>
<td>Send packet at a certain time (GPS synchronization required)</td>
</tr>
<tr>
<td>freq</td>
<td>number</td>
<td>TX central frequency in MHz (unsigned float, Hz precision)</td>
</tr>
<tr>
<td>rfch</td>
<td>number</td>
<td>Concentrator “RF chain” used for TX (unsigned integer)</td>
</tr>
<tr>
<td>powe</td>
<td>number</td>
<td>TX output power in dBm (unsigned integer, dBm precision)</td>
</tr>
<tr>
<td>modu</td>
<td>string</td>
<td>Modulation identifier “LORA” or “FSK”</td>
</tr>
<tr>
<td>datr</td>
<td>string</td>
<td>LoRa datarate identifier (eg. SF12BW500)</td>
</tr>
<tr>
<td>datr</td>
<td>number</td>
<td>FSK datarate (unsigned, in bits per second)</td>
</tr>
<tr>
<td>codr</td>
<td>string</td>
<td>LoRa ECC coding rate identifier</td>
</tr>
<tr>
<td>fdev</td>
<td>number</td>
<td>FSK frequency deviation (unsigned integer, in Hz)</td>
</tr>
<tr>
<td>ipol</td>
<td>bool</td>
<td>Lora modulation polarization inversion</td>
</tr>
<tr>
<td>prea</td>
<td>number</td>
<td>RF preamble size (unsigned integer)</td>
</tr>
<tr>
<td>size</td>
<td>number</td>
<td>RF packet payload size in bytes (unsigned integer)</td>
</tr>
<tr>
<td>data</td>
<td>string</td>
<td>Base64 encoded RF packet payload, padding optional</td>
</tr>
<tr>
<td>ncrc</td>
<td>bool</td>
<td>If true, disable the CRC of the physical layer (optional)</td>
</tr>
</tbody>
</table>
<p>大多数字段都是可选的。如果省略字段，将使用默认参数。 示例（为便于阅读而添加了空格，缩进和换行符）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;txpk&quot;:&#123;</span><br><span class="line">	&quot;imme&quot;:true,</span><br><span class="line">	&quot;freq&quot;:864.123456,</span><br><span class="line">	&quot;rfch&quot;:0,</span><br><span class="line">	&quot;powe&quot;:14,</span><br><span class="line">	&quot;modu&quot;:&quot;LORA&quot;,</span><br><span class="line">	&quot;datr&quot;:&quot;SF11BW125&quot;,</span><br><span class="line">	&quot;codr&quot;:&quot;4/6&quot;,</span><br><span class="line">	&quot;ipol&quot;:false,</span><br><span class="line">	&quot;size&quot;:32,</span><br><span class="line">	&quot;data&quot;:&quot;H3P3N2i9qc4yt7rK7ldqoeCVJGBybzPY5h1Dd7P7p8v&quot;</span><br><span class="line">&#125;&#125;</span><br><span class="line">&#123;&quot;txpk&quot;:&#123;</span><br><span class="line">	&quot;imme&quot;:true,</span><br><span class="line">	&quot;freq&quot;:861.3,</span><br><span class="line">	&quot;rfch&quot;:0,</span><br><span class="line">	&quot;powe&quot;:12,</span><br><span class="line">	&quot;modu&quot;:&quot;FSK&quot;,</span><br><span class="line">	&quot;datr&quot;:50000,</span><br><span class="line">	&quot;fdev&quot;:3000,</span><br><span class="line">	&quot;size&quot;:32,</span><br><span class="line">	&quot;data&quot;:&quot;H3P3N2i9qc4yt7rK7ldqoeCVJGBybzPY5h1Dd7P7p8v&quot;</span><br><span class="line">&#125;&#125;</span><br></pre></td></tr></table></figure>
<p>TX_ACK数据包的根对象必须包含名为“txpk_ack”的对象：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	&quot;txpk_ack&quot;: &#123;...&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>该对象包含有关相关PULL_RESP数据包的状态信息。</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr>
<td>error</td>
<td>string</td>
<td>Indication about success or type of failure that occured for downlink request.</td>
</tr>
</tbody>
</table>
<p>可能的错误有：</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td>NONE</td>
<td>Packet has been programmed for downlink</td>
</tr>
<tr>
<td>TOO_LATE</td>
<td>Rejected because it was already too late to program this packet for downlink</td>
</tr>
<tr>
<td>TOO_EARLY</td>
<td>Rejected because downlink packet timestamp is too much in advance</td>
</tr>
<tr>
<td>COLLISION_PACKET</td>
<td>Rejected because there was already a packet programmed in requested timeframe</td>
</tr>
<tr>
<td>COLLISION_BEACON</td>
<td>Rejected because there was already a beacon planned in requested timeframe</td>
</tr>
<tr>
<td>TX_FREQ</td>
<td>Rejected because requested frequency is not supported by TX RF chain</td>
</tr>
<tr>
<td>TX_POWER</td>
<td>Rejected because requested power is not supported by gateway</td>
</tr>
<tr>
<td>GPS_UNLOCKED</td>
<td>Rejected because GPS is unlocked, so GPS timestamp cannot be used</td>
</tr>
</tbody>
</table>
<p>示例（为便于阅读而添加了空格，缩进和换行符）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;txpk_ack&quot;:&#123;</span><br><span class="line">	&quot;error&quot;:&quot;COLLISION_PACKET&quot;</span><br><span class="line">&#125;&#125;</span><br></pre></td></tr></table></figure>
        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2018-12-05T13:35:39.000Z" itemprop="dateUpdated">2018-12-05 21:35:39</time>
</span><br>


        
        这里可以写作者留言，标签和 hexo 中所有变量及辅助函数等均可调用，示例：<a href="/2018/12/05/lorawan协议（中文版）/" target="_blank" rel="external">http://wumuwumu.github.io/2018/12/05/lorawan协议（中文版）/</a>
        
    </div>
    
    <footer>
        <a href="http://wumuwumu.github.io">
            <img src="/img/avatar.png" alt="wumu">
            wumu
        </a>
    </footer>
</blockquote>

        


        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/lorawan/">lorawan</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://wumuwumu.github.io/2018/12/05/lorawan协议（中文版）/&title=《lorawan协议（中文版）》 — wumu's blog&pic=http://wumuwumu.github.io/img/avatar.png" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://wumuwumu.github.io/2018/12/05/lorawan协议（中文版）/&title=《lorawan协议（中文版）》 — wumu's blog&source=起风了，唯有努力生存" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://wumuwumu.github.io/2018/12/05/lorawan协议（中文版）/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《lorawan协议（中文版）》 — wumu's blog&url=http://wumuwumu.github.io/2018/12/05/lorawan协议（中文版）/&via=http://wumuwumu.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://wumuwumu.github.io/2018/12/05/lorawan协议（中文版）/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2018/12/05/VirtualBox磁盘扩容/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">VirtualBox磁盘扩容</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2018/12/05/lorawan协议/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">lorawan协议</h4>
      </a>
    </div>
  
</nav>



    











    <!-- Valine Comments -->
    <div class="comments vcomment" id="comments"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script>
    <!-- Valine Comments script -->
    <script>
        var GUEST_INFO = ['nick','mail','link'];
        var guest_info = 'nick,mail,link'.split(',').filter(function(item){
          return GUEST_INFO.indexOf(item) > -1
        });
        new Valine({
            el: '#comments',
            notify: 'false' == 'true',
            verify: 'false' == 'true',
            appId: "V8NlRMg78hP7LSAg49QpIIMV-gzGzoHsz",
            appKey: "I8XKrcOwUTeg1Sv7mVwEcnMF",
            avatar: "mm",
            placeholder: "Just go go",
            guest_info: guest_info.length == 0 ? GUEST_INFO : guest_info,
            pageSize: "10"
        })
    </script>
    <!-- Valine Comments end -->







</article>



</div>

        <footer class="footer">
    <div class="bottom">
        <p>
            <span>wumu &copy; 2018 - 2019</span>
            <span>
                 Power by
                <a href="http://hexo.io/" target="_blank">Hexo</a> Theme
                <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://wumuwumu.github.io/2018/12/05/lorawan协议（中文版）/&title=《lorawan协议（中文版）》 — wumu's blog&pic=http://wumuwumu.github.io/img/avatar.png" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://wumuwumu.github.io/2018/12/05/lorawan协议（中文版）/&title=《lorawan协议（中文版）》 — wumu's blog&source=起风了，唯有努力生存" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://wumuwumu.github.io/2018/12/05/lorawan协议（中文版）/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《lorawan协议（中文版）》 — wumu's blog&url=http://wumuwumu.github.io/2018/12/05/lorawan协议（中文版）/&via=http://wumuwumu.github.io" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://wumuwumu.github.io/2018/12/05/lorawan协议（中文版）/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACtUlEQVR42u3aQW7CQAwFUO5/6VbqrlITvu0xzeJlhQCRebOIzR+/XvH19XPdf3r1natPr965/53XxoWHh4fXWvrVlfPyDapu1v07V2vGw8PD2+ZNFpQ/k+9/OQHka8bDw8N7Ai9vmudtcb4peHh4eE/m9YKGfGuS1hkPDw/vObzJbfJw4T44uA9217MWPDw8vJhXPQB7wuvF8z08PDy8wal671Hea9OrRShaJx4eHt4CL2+L50ucDCIkYwSFPBgPDw9vwEtihUn0kC8ub6OT6OFX3cPDw8M7yjvVzk6GA5KtvL9XlFLj4eHhfYQ3iRsSZHXLmnfEw8PDW+bNY4ikvT7VdkdlCQ8PD2+BNznIz2+ZBxl5ISncBQ8PD+8QL3lkTyLU3q+dipLx8PDwNni9B24SFlQ3rhfjRsEEHh4e3kd45bmtOALOBxTyOONN2cDDw8Nb422EsNVlJeByVIGHh4e3wKuOBVQf9HmgUG3oewUMDw8P7yyvuojqEnsHWpMIGA8PD+8s7+xRVn5AlZefvET9cXc8PDy8NV51uVFXHnyzumXlZh0PDw9vjdc7uMpfTwLcKjuaicDDw8M7xMsf3EmIUG1/q2uIWnA8PDy8f+LlYwT5SMGrdeWjDHh4eHh7vPzvfd7y9kpOHluUx2Hx8PDwFng95KS0nAqCCyUHDw8P7yiv2hZXj6nyMdNewXizfXh4eHhrvKQAVA/153HwJLzAw8PD2+B9Fa980dXNqgYN0VgYHh4e3gJvUjzymKB6oFUtSAcKCR4eHl7rbKg6VJoEGdXDsOo3o23Cw8PDW+OdCiB6QXDveCwqQnh4eHgP4CWBwtnIIN+UaNwKDw8P74O85MGd8JKtqTLw8PDwPs/rPdZPNdDVuxfyaTw8PLwF3mQwq7oR+Wb1Io9j53t4eHh4f7/zDW1VpkuLJNMKAAAAAElFTkSuQmCC" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: false };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>






<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = 'wumu的博客';
            clearTimeout(titleTime);
        } else {
            document.title = '(つェ⊂)咦!又好了!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
